2024-01-13 00:04:14,941 - app - ERROR - Exception on /api/login [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/otpRoutes.py", line 29, in verifyOtp
    response = otpVerificationService.verifyOtp(otpVerifyRequest).__dict__
  File "/home/DriveKraft/drivekraft-app-backend/./app/Services/otpVerificationService.py", line 14, in verifyOtp
    otp = otpDAO.getOtp(userId=user.id)
AttributeError: 'NoneType' object has no attribute 'id'
2024-01-13 00:04:18,392 - app - ERROR - Exception on /api/login [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/otpRoutes.py", line 29, in verifyOtp
    response = otpVerificationService.verifyOtp(otpVerifyRequest).__dict__
  File "/home/DriveKraft/drivekraft-app-backend/./app/Services/otpVerificationService.py", line 14, in verifyOtp
    otp = otpDAO.getOtp(userId=user.id)
AttributeError: 'NoneType' object has no attribute 'id'
2024-01-13 00:04:19,953 - app - ERROR - Exception on /api/login [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/otpRoutes.py", line 29, in verifyOtp
    response = otpVerificationService.verifyOtp(otpVerifyRequest).__dict__
  File "/home/DriveKraft/drivekraft-app-backend/./app/Services/otpVerificationService.py", line 14, in verifyOtp
    otp = otpDAO.getOtp(userId=user.id)
AttributeError: 'NoneType' object has no attribute 'id'
2024-01-13 00:14:47,132 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 16, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/userRoutes.py", line 30, in getUserDetails
    logging.info(str(content_type))
NameError: name 'logging' is not defined
2024-01-13 00:19:37,440 - app - ERROR - Exception on /api/user/firebase [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 16, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/userRoutes.py", line 19, in updateUserFirebaseData
    logging.info(str(content_type))
NameError: name 'logging' is not defined
2024-01-13 00:20:02,415 - app - ERROR - Exception on /api/user/firebase [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 16, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/userRoutes.py", line 19, in updateUserFirebaseData
    logging.info(str(content_type))
NameError: name 'logging' is not defined
2024-01-13 00:22:13,373 - app - ERROR - Exception on /api/user/firebase [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 16, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/userRoutes.py", line 19, in updateUserFirebaseData
    logging.info(str(content_type))
NameError: name 'logging' is not defined
2024-01-13 00:29:34,422 - app - ERROR - Exception on /api/user/firebase [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 16, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/userRoutes.py", line 19, in updateUserFirebaseData
    logging.info(str(content_type))
NameError: name 'logging' is not defined
2024-01-13 00:36:51,499 - app - ERROR - Exception on /api/user/firebase [POST]
Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 21, in wrapper
    raise e
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 16, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/userRoutes.py", line 19, in updateUserFirebaseData
    logging.info(str(content_type))
NameError: name 'logging' is not defined
2024-01-13 00:55:39,487 - app - ERROR - Exception on /api/role [GET]
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (4031, 'The client was disconnected by the server because of inactivity. See wait_timeout and interactive_timeout for configuring this behavior.')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 14, in wrapper
    if verify_token(tokenValue):
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 25, in verify_token
    token = getToken(tokenValue=tokenValue)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask_caching/__init__.py", line 872, in decorated_function
    rv = self._call_fn(f, *args, **kwargs)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask_caching/__init__.py", line 175, in _call_fn
    return ensure_sync(fn)(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Models/DAO/tokenDAO.py", line 28, in getToken
    and_(Token.value == tokenValue, Token.created >= now - timedelta(hours=24))).one()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2865, in one
    return self._iter().one()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/connections.py", line 254, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.OperationalError: (MySQLdb._exceptions.OperationalError) (4031, 'The client was disconnected by the server because of inactivity. See wait_timeout and interactive_timeout for configuring this behavior.')
[SQL: SELECT token.id AS token_id, token.`userId` AS `token_userId`, token.value AS token_value, token.created AS token_created, token.expired AS token_expired 
FROM token 
WHERE token.value = %s AND token.created >= %s]
[parameters: ('B38G88YF5BFBRDNYZ554Y96ZJLNDE94N8IC8PCCGM9YVWISXLR', datetime.datetime(2024, 1, 12, 6, 25, 39, 485644))]
(Background on this error at: https://sqlalche.me/e/14/e3q8)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 983, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
MySQLdb._exceptions.InterfaceError: (0, '')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 20, in wrapper
    g.session.rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1399, in rollback
    self._transaction.rollback(_to_root=self.future)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 900, in rollback
    util.raise_(rollback_err[1], with_traceback=rollback_err[2])
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 865, in rollback
    t[1].rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2357, in rollback
    self._do_rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2561, in _do_rollback
    self._close_impl(try_deactivate=True)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2544, in _close_impl
    self._connection_rollback_impl()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2536, in _connection_rollback_impl
    self.connection._rollback_impl()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 985, in _rollback_impl
    self._handle_dbapi_exception(e, None, None, None, None)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 983, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlalchemy.exc.InterfaceError: (MySQLdb._exceptions.InterfaceError) (0, '')
(Background on this error at: https://sqlalche.me/e/14/rvf5)
2024-01-13 01:54:12,145 - app - ERROR - Exception on /api/role [GET]
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (4031, 'The client was disconnected by the server because of inactivity. See wait_timeout and interactive_timeout for configuring this behavior.')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 14, in wrapper
    if verify_token(tokenValue):
  File "/home/DriveKraft/drivekraft-app-backend/./app/authenticate.py", line 25, in verify_token
    token = getToken(tokenValue=tokenValue)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask_caching/__init__.py", line 872, in decorated_function
    rv = self._call_fn(f, *args, **kwargs)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask_caching/__init__.py", line 175, in _call_fn
    return ensure_sync(fn)(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Models/DAO/tokenDAO.py", line 28, in getToken
    and_(Token.value == tokenValue, Token.created >= now - timedelta(hours=24))).one()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2865, in one
    return self._iter().one()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/connections.py", line 254, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.OperationalError: (MySQLdb._exceptions.OperationalError) (4031, 'The client was disconnected by the server because of inactivity. See wait_timeout and interactive_timeout for configuring this behavior.')
[SQL: SELECT token.id AS token_id, token.`userId` AS `token_userId`, token.value AS token_value, token.created AS token_created, token.expired AS token_expired 
FROM token 
WHERE token.value = %s AND token.created >= %s]
[parameters: ('8AVQSCEB0WSPN7C2DRSJB3JQFQMEEHB395AF9I91T9S5BGD2N4', datetime.datetime(2024, 1, 12, 7, 24, 12, 142310))]
(Background on this error at: https://sqlalche.me/e/14/e3q8)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 983, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
MySQLdb._exceptions.InterfaceError: (0, '')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 20, in wrapper
    g.session.rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1399, in rollback
    self._transaction.rollback(_to_root=self.future)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 900, in rollback
    util.raise_(rollback_err[1], with_traceback=rollback_err[2])
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 865, in rollback
    t[1].rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2357, in rollback
    self._do_rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2561, in _do_rollback
    self._close_impl(try_deactivate=True)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2544, in _close_impl
    self._connection_rollback_impl()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2536, in _connection_rollback_impl
    self.connection._rollback_impl()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 985, in _rollback_impl
    self._handle_dbapi_exception(e, None, None, None, None)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 983, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlalchemy.exc.InterfaceError: (MySQLdb._exceptions.InterfaceError) (0, '')
(Background on this error at: https://sqlalche.me/e/14/rvf5)
2024-01-13 02:12:40,902 - app - ERROR - Exception on /api/login-send-otp [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.OperationalError: (4031, 'The client was disconnected by the server because of inactivity. See wait_timeout and interactive_timeout for configuring this behavior.')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 15, in wrapper
    result = func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Routes/otpRoutes.py", line 19, in generateNewOtp
    response = otpGenerateService.generateOtp(otpRequest).__dict__
  File "/home/DriveKraft/drivekraft-app-backend/./app/Services/otpGenerateService.py", line 22, in generateOtp
    user = userService.getUserByContact(contactNumber=request.mobile)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Services/userService.py", line 84, in getUserByContact
    return userDao.getUserByContact(contactNumber)
  File "/home/DriveKraft/drivekraft-app-backend/./app/Models/DAO/userDao.py", line 35, in getUserByContact
    user = session.query(User).filter_by(contactNumber=contactNumber).one()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2865, in one
    return self._iter().one()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2903, in _iter
    result = self.session.execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1696, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1631, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1498, in _execute_clauseelement
    ret = self._execute_context(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1862, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1819, in _execute_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 206, in execute
    res = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/cursors.py", line 319, in _query
    db.query(q)
  File "/usr/local/lib/python3.10/site-packages/MySQLdb/connections.py", line 254, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.OperationalError: (MySQLdb._exceptions.OperationalError) (4031, 'The client was disconnected by the server because of inactivity. See wait_timeout and interactive_timeout for configuring this behavior.')
[SQL: SELECT user.id AS user_id, user.name AS user_name, user.`contactNumber` AS `user_contactNumber`, user.username AS user_username, user.created AS user_created, user.updated AS user_updated, user.`firebaseId` AS `user_firebaseId`, user.`firebaseName` AS `user_firebaseName`, user.`firebaseEmail` AS `user_firebaseEmail`, user.`firebasePassword` AS `user_firebasePassword`, user.`roleId` AS `user_roleId`, user.balance AS user_balance, user.`isBlocked` AS `user_isBlocked` 
FROM user 
WHERE user.`contactNumber` = %s]
[parameters: ('918284990439',)]
(Background on this error at: https://sqlalche.me/e/14/e3q8)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 983, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
MySQLdb._exceptions.InterfaceError: (0, '')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/DriveKraft/.local/lib/python3.10/site-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/home/DriveKraft/drivekraft-app-backend/./app/util.py", line 20, in wrapper
    g.session.rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 1399, in rollback
    self._transaction.rollback(_to_root=self.future)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 900, in rollback
    util.raise_(rollback_err[1], with_traceback=rollback_err[2])
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 865, in rollback
    t[1].rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2357, in rollback
    self._do_rollback()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2561, in _do_rollback
    self._close_impl(try_deactivate=True)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2544, in _close_impl
    self._connection_rollback_impl()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2536, in _connection_rollback_impl
    self.connection._rollback_impl()
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 985, in _rollback_impl
    self._handle_dbapi_exception(e, None, None, None, None)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2043, in _handle_dbapi_exception
    util.raise_(
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 983, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "/usr/local/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlalchemy.exc.InterfaceError: (MySQLdb._exceptions.InterfaceError) (0, '')
(Background on this error at: https://sqlalche.me/e/14/rvf5)
